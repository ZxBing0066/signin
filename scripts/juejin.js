const axios = require('axios');

// process.env.PUSH_DEER_KEY = 'PDU19099TCUq4HLNzTQLNdkezGRPPqNJWQto9eoFc';

// process.env.JJ_COOKIE =
// '_ga=GA1.2.1610370837.1620655935; MONITOR_WEB_ID=63e5e5bb-6792-4393-9c16-2e626c1c71e2; __tea_cookie_tokens_2608=%257B%2522web_id%2522%253A%25226901905951083841032%2522%252C%2522ssid%2522%253A%2522617bc705-aea6-416a-8f0c-76d8c112ddde%2522%252C%2522user_unique_id%2522%253A%25226901905951083841032%2522%252C%2522timestamp%2522%253A1641626715089%257D; sid_guard=808639fd4b207c67c76e12ecf230c895%7C1650035599%7C31536000%7CSat%2C+15-Apr-2023+15%3A13%3A19+GMT; uid_tt=a3182a657d1e6f0bca18f731e2ef80e9; uid_tt_ss=a3182a657d1e6f0bca18f731e2ef80e9; sid_tt=808639fd4b207c67c76e12ecf230c895; sessionid=808639fd4b207c67c76e12ecf230c895; sessionid_ss=808639fd4b207c67c76e12ecf230c895; sid_ucp_v1=1.0.0-KDE4NzFiNzRhOGYwZDM1MjJhMmY0NzNjODJmNDhjOGI0OTZlNGFkODMKFQjO3YC__fUxEI-X5pIGGLAUOAhAOBoCbGYiIDgwODYzOWZkNGIyMDdjNjdjNzZlMTJlY2YyMzBjODk1; ssid_ucp_v1=1.0.0-KDE4NzFiNzRhOGYwZDM1MjJhMmY0NzNjODJmNDhjOGI0OTZlNGFkODMKFQjO3YC__fUxEI-X5pIGGLAUOAhAOBoCbGYiIDgwODYzOWZkNGIyMDdjNjdjNzZlMTJlY2YyMzBjODk1; _tea_utm_cache_2608={%22utm_source%22:%22gold-miner%22%2C%22utm_medium%22:%22readme%22%2C%22utm_campaign%22:%22github%22}; _gid=GA1.2.1689048937.1672564958';

// process.env.JJ_COOKIE =
// '_tea_utm_cache_2608=undefined; csrf_session_id=132b343a0f411eb62d36b8aa7d899798; __tea_cookie_tokens_2608=%257B%2522web_id%2522%253A%25227204487458582513184%2522%252C%2522user_unique_id%2522%253A%25227204487458582513184%2522%252C%2522timestamp%2522%253A1677425470846%257D; passport_csrf_token=d510b4bc15655166021b52fd26d6aa16; passport_csrf_token_default=d510b4bc15655166021b52fd26d6aa16; _tea_utm_cache_2018=undefined; n_mh=NIMzHXUK2pnQGgDYWE1t9hOr6wjNH28uUQpDgQXZijo; passport_auth_status=9efd5cdc06e5f4466bfa9116378eb4b8%2C; passport_auth_status_ss=9efd5cdc06e5f4466bfa9116378eb4b8%2C; sid_guard=48a5859ebbb57d292beb386c1f60a164%7C1677425516%7C31536000%7CMon%2C+26-Feb-2024+15%3A31%3A56+GMT; uid_tt=8dfa2c1b2b0851a9f7c040e4a5a4e669; uid_tt_ss=8dfa2c1b2b0851a9f7c040e4a5a4e669; sid_tt=48a5859ebbb57d292beb386c1f60a164; sessionid=48a5859ebbb57d292beb386c1f60a164; sessionid_ss=48a5859ebbb57d292beb386c1f60a164; sid_ucp_v1=1.0.0-KGYyYTQ2MTg0Nzg2NzZmM2QwYWFmODllNzU2NTJmZmQ5YjAyYTMyNzUKFwiIxcC2qI3fBhDs9u2fBhiwFDgCQPEHGgJsZiIgNDhhNTg1OWViYmI1N2QyOTJiZWIzODZjMWY2MGExNjQ; ssid_ucp_v1=1.0.0-KGYyYTQ2MTg0Nzg2NzZmM2QwYWFmODllNzU2NTJmZmQ5YjAyYTMyNzUKFwiIxcC2qI3fBhDs9u2fBhiwFDgCQPEHGgJsZiIgNDhhNTg1OWViYmI1N2QyOTJiZWIzODZjMWY2MGExNjQ; store-region=cn-sh; store-region-src=uid';

// process.env.JJ_COOKIE =
// 'csrf_session_id=132b343a0f411eb62d36b8aa7d899798; _tea_utm_cache_2608=undefined; __tea_cookie_tokens_2608=%257B%2522web_id%2522%253A%25227204487186723751439%2522%252C%2522user_unique_id%2522%253A%25227204487186723751439%2522%252C%2522timestamp%2522%253A1677425412120%257D; passport_csrf_token=d3c622ea51881c136ae93a72dc2a863f; passport_csrf_token_default=d3c622ea51881c136ae93a72dc2a863f; _tea_utm_cache_2018=undefined; n_mh=WXDFgyRZo-A83IROJ4huF0IAZ2Wigc0QXVPAyoakz14; passport_auth_status=1714381d51db133c0e6225ebb0721a51%2C; passport_auth_status_ss=1714381d51db133c0e6225ebb0721a51%2C; sid_guard=ccc7292e1cb9ab72ae3b561e0b82806b%7C1677457389%7C31535999%7CTue%2C+27-Feb-2024+00%3A23%3A08+GMT; uid_tt=12bc82dba2868ca974c5c83f794301ac; uid_tt_ss=12bc82dba2868ca974c5c83f794301ac; sid_tt=ccc7292e1cb9ab72ae3b561e0b82806b; sessionid=ccc7292e1cb9ab72ae3b561e0b82806b; sessionid_ss=ccc7292e1cb9ab72ae3b561e0b82806b; sid_ucp_v1=1.0.0-KDViMzdjMDRjOGQ4YzdjZjA0NTRiNGNiYjJhYjg0ZDYyYjFkNzc1NmUKFwi9yYC4qI2XBBDt7--fBhiwFDgCQPEHGgJsZiIgY2NjNzI5MmUxY2I5YWI3MmFlM2I1NjFlMGI4MjgwNmI; ssid_ucp_v1=1.0.0-KDViMzdjMDRjOGQ4YzdjZjA0NTRiNGNiYjJhYjg0ZDYyYjFkNzc1NmUKFwi9yYC4qI2XBBDt7--fBhiwFDgCQPEHGgJsZiIgY2NjNzI5MmUxY2I5YWI3MmFlM2I1NjFlMGI4MjgwNmI; store-region=cn-sh; store-region-src=uid';

const pushDeerKey = process.env.PUSH_DEER_KEY;

// ?aid=2608&uuid=6901905951083841032&spider=0
// base url
const baseUrl = 'https://api.juejin.cn/';
// check in
const checkInUrl = baseUrl + 'growth_api/v1/check_in';
// draw
const lotteryUrl = baseUrl + 'growth_api/v1/lottery/draw';
// {"err_no":0,"err_msg":"success","data":{"lotteries":[{"user_id":"3822329815378510","history_id":"7204462435586506789","user_name":"倔强的花生","user_avatar":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3791/5035712059~300x300.image","lottery_name":"稀土掘金兔年春节礼盒","lottery_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d748a2d93d6840da84e9f9c2ac347241~tplv-k3u1fbpfcp-no-mark:0:0:0:0.image?","date":1677419634,"dip_lucky_user_count":6,"dip_lucky_users":[{"user_id":"307518986531320","user_name":"𝑱𝒆𝒓𝒓𝒚丶𝑯𝒖","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/d27d9abfb47ebbf3231e5b89f768c05b~300x300.image"},{"user_id":"1380642335238696","user_name":"lucas_ldl","avatar_large":"https://p3-passport.byteacctimg.com/img/mosaic-legacy/3796/2975850990~300x300.image"},{"user_id":"1469419139637757","user_name":"小民同学666","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/3be5ae06c310261ca2ffa92f3843f1f5~300x300.image"},{"user_id":"43636197964237","user_name":"OneChungKung","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/bcac2baa87aa855194dd5bb18416fca4~300x300.image"},{"user_id":"2242659449050023","user_name":"bimromatic","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/8eaeddf1f56a66b38b79b51e44885731~300x300.image"},{"user_id":"2313806928427688","user_name":"星_星","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/4873502771b80f8655340753243ff5de~300x300.image"}]},{"user_id":"1799226320750253","history_id":"7201697810398314528","user_name":"java小豪","user_avatar":"https://p6-passport.byteacctimg.com/img/mosaic-legacy/3791/5070639578~300x300.image","lottery_name":"稀土掘金兔年春节礼盒","lottery_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d748a2d93d6840da84e9f9c2ac347241~tplv-k3u1fbpfcp-no-mark:0:0:0:0.image?","date":1676775942,"dip_lucky_user_count":47141,"dip_lucky_users":[{"user_id":"4054654614509000","user_name":"Marshall爱学习","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/0046e811118e82d009b0642e17e1f8c0~300x300.image"},{"user_id":"3914724235294552","user_name":"肖鹤云","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/e92a964f3290f3bf55cddb979b5c45ef~300x300.image"},{"user_id":"272334615753863","user_name":"H.同学88524","avatar_large":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/mirror-assets/16d692d064ae981a035~tplv-t2oaga2asx-image.image"},{"user_id":"4161011971800391","user_name":"用户9818501459103","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3795/3033762272~300x300.image"},{"user_id":"2805609405626381","user_name":"前端死菜鸡","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/a9b31173d916f309865f980f6e0e0120~300x300.image"},{"user_id":"1257497034493598","user_name":"瓣人觉晓","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/18cd817ac2f3b23efd4a63c8dabcfdec~300x300.image"},{"user_id":"2313810680227181","user_name":"七毛啊","avatar_large":"https://p6-passport.byteacctimg.com/img/mosaic-legacy/3795/3033762272~300x300.image"},{"user_id":"3285774114761800","user_name":"绝金","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/c309dc907fb9f649f187251c5a31a207~300x300.image"},{"user_id":"3562073403954647","user_name":"凡人三千","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/0151dd0d4b30833ffbb9af939a22f628~300x300.image"},{"user_id":"782508011031976","user_name":"阿轰哥","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/1683fc26c48d9d13143213216e5e8ff9~300x300.image"}]},{"user_id":"2401776057188680","history_id":"7200701634795470905","user_name":"用户7801453228722","user_avatar":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3791/5035712059~300x300.image","lottery_name":"稀土掘金兔年春节礼盒","lottery_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d748a2d93d6840da84e9f9c2ac347241~tplv-k3u1fbpfcp-no-mark:0:0:0:0.image?","date":1676544008,"dip_lucky_user_count":21910,"dip_lucky_users":[{"user_id":"3822329815378510","user_name":"倔强的花生","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3791/5035712059~300x300.image"},{"user_id":"3510093103760759","user_name":"自然选择后退四","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/cfa28b0b8576ae383985c941dff4d9f0~300x300.image"},{"user_id":"1953194809760103","user_name":"LIMYOONA90","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/dfdfac9896560b7c9963f9ecc5186805~300x300.image"},{"user_id":"277497180337630","user_name":"姚女士","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3791/5035712059~300x300.image"},{"user_id":"690916700471534","user_name":"当幸福来敲门zbr","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/3f3799637e482ff40a0a772363e266a5~300x300.image"},{"user_id":"2013961030731198","user_name":"__so__","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/adc61b8617ddaf67f3df6cca8dbbc920~300x300.image"},{"user_id":"1028798613825261","user_name":"卡布奇诺喵","avatar_large":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/10/16b40b77464eeeb2~tplv-t2oaga2asx-image.image"},{"user_id":"3685218708631895","user_name":"unknownCoder","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/5437c64872d86ac6799c10321b4e7a8a~300x300.image"},{"user_id":"4195392104708942","user_name":"UU_Frank","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3792/5112637127~300x300.image"},{"user_id":"796471611366942","user_name":"0warn0error","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3792/5112637127~300x300.image"}]},{"user_id":"184373686572541","history_id":"7199804226015838264","user_name":"追梦！","user_avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/08b2155d47701d7c63288317275be2e2~300x300.image","lottery_name":"稀土掘金兔年春节礼盒","lottery_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d748a2d93d6840da84e9f9c2ac347241~tplv-k3u1fbpfcp-no-mark:0:0:0:0.image?","date":1676335061,"dip_lucky_user_count":23782,"dip_lucky_users":[{"user_id":"352264193574536","user_name":"rxj_2008","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/a11a74248208c7b2faaa323de2c77442~300x300.image"},{"user_id":"3316546415626520","user_name":"翔阳","avatar_large":"https://p3-passport.byteacctimg.com/img/mosaic-legacy/3791/5035712059~300x300.image"},{"user_id":"3562834722846317","user_name":"汽车仔","avatar_large":"https://p6-passport.byteacctimg.com/img/mosaic-legacy/3795/3044413937~300x300.image"},{"user_id":"3324577077265767","user_name":"槑啊","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/b06e17dd7e2f7576ff043ba00c58c771~300x300.image"},{"user_id":"1538972006749582","user_name":"roclee","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/d209b07d2b94ed59d46534ea74879d67~300x300.image"},{"user_id":"119197013389559","user_name":"猫三人","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/82573d6816673448136ce7063d4269b4~300x300.image"},{"user_id":"31212268947198","user_name":"jiyeon","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/3b598956e909bbd4724e7be8183162cc~300x300.image"},{"user_id":"1821264073725773","user_name":"在逃阿刁","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/2050c53711de56daab33108cbe4eb47f~300x300.image"},{"user_id":"3158264535068014","user_name":"yyc_two","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/3debc9a2f39bb2084e2cc84642c80772~300x300.image"},{"user_id":"3957868992165054","user_name":"狗子君","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/043a6d42558900c18280a7f7436993fc~300x300.image"}]},{"user_id":"3667626522585224","history_id":"7199441589075181583","user_name":"我变了我没变","user_avatar":"https://p3-passport.byteacctimg.com/img/user-avatar/8e24344cad2a90575a0a5b0c77b5cc4b~300x300.image","lottery_name":"Hawking拍拍灯","lottery_image":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7cb401321ffd434eb63e2c578a09c412~tplv-k3u1fbpfcp-no-mark:0:0:0:0.image?","date":1676250622,"dip_lucky_user_count":13042,"dip_lucky_users":[{"user_id":"3210229685964583","user_name":"缺钱从零开始学前端","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/653ef7ec91f4201fc97ddd1dcf3ae05d~300x300.image"},{"user_id":"2155472044699533","user_name":"web搬运工","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/c929c9dd2f4a5bbdec12894679644a6e~300x300.image"},{"user_id":"2576910988095981","user_name":"Run","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/d380a8ca333c14985bd3b7def6bd7520~300x300.image"},{"user_id":"632917506661111","user_name":"chenyujie","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/38bfd831f8aa4102957033ed0215a73e~300x300.image"},{"user_id":"1447392726227623","user_name":"My2538772270","avatar_large":"https://p26-passport.byteacctimg.com/img/user-avatar/92c76c23233629de69fc32405442a51d~300x300.image"},{"user_id":"1610150032974477","user_name":"小野学Java","avatar_large":"https://p6-passport.byteacctimg.com/img/user-avatar/5f6fd2ac8c8b21a4feb0374e72a4a186~300x300.image"},{"user_id":"1201101689600414","user_name":"Yany","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3797/2889309425~300x300.image"},{"user_id":"2225067263002744","user_name":"BaiLin","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/59162e4b812457c3922b172ea92a5a31~300x300.image"},{"user_id":"4151374699312840","user_name":"天天写Bug","avatar_large":"https://p3-passport.byteacctimg.com/img/user-avatar/de8b22f7b66b07b266e911fafd11d724~300x300.image"},{"user_id":"3070309654870782","user_name":"用户名已占用_请更换后重试","avatar_large":"https://p9-passport.byteacctimg.com/img/mosaic-legacy/3792/5112637127~300x300.image"}]}],"count":1000}}
const lotteryHistory = baseUrl + 'growth_api/v1/lottery_history/global_big';
// lottery_history_id: "7204462435586506789"
// {"err_no":0,"err_msg":"success","data":{"dip_action":1,"has_dip":true,"total_value":4912,"dip_value":10}}
const dipLucky = baseUrl + 'growth_api/v1/lottery_lucky/dip_lucky';
// bug list
// {"err_no":0,"err_msg":"success","data":[{"bug_type":12,"bug_time":1677340800,"bug_show_type":1,"is_first":false},{"bug_type":12,"bug_time":1677340800,"bug_show_type":1,"is_first":false},{"bug_type":13,"bug_time":1677340800,"bug_show_type":1,"is_first":false},{"bug_type":13,"bug_time":1677340800,"bug_show_type":1,"is_first":false},{"bug_type":14,"bug_time":1677340800,"bug_show_type":1,"is_first":false},{"bug_type":14,"bug_time":1677340800,"bug_show_type":1,"is_first":false}]}
const bugListUrl = baseUrl + 'user_api/v1/bugfix/not_collect';
// {"bug_type":14,"bug_time":1677340800}
// {"err_no":0,"err_msg":"success","data":null}
const bugCollectUrl = baseUrl + 'user_api/v1/bugfix/collect';
// short message
const postShortMsgUrl = baseUrl + 'content_api/v1/short_msg/publish';
// article list
// {"audit_status":null,"keyword":"","page_size":10,"page_no":1}
// {"err_no":0,"err_msg":"success","data":[{"article_id":"7197433202172035109","article_info":{"article_id":"7197433202172035109","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093],"visible_level":0,"link_url":"","cover_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a42be6d55c104e7e9dffadaa8fcc6f71~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"另类 three.js 画作 - 方块兔 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 之前做过一款像素图片转化器，这几天写 three.js 的文章时突发奇想，感觉可以在 three.js 中也丢一个像素图进去。不","is_english":0,"is_original":1,"user_index":10.785443010550107,"original_type":0,"original_author":"","content":"","ctime":"1675815343","mtime":"1675843808","rtime":"-62135596800","draft_id":"7197388515231481913","view_count":69,"collect_count":0,"digg_count":3,"comment_count":4,"hot_index":10,"is_hot":0,"rank_index":1e-7,"status":1,"verify_status":1,"audit_status":2,"mark_content":"","display_count":424,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7197433202172035109,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7197433837341360184","article_info":{"article_id":"7197433837341360184","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093],"visible_level":0,"link_url":"","cover_image":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a3f12089eda44efbba2955e33d76b19a~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"js 写个 🐰 接 🥕 小游戏 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 今天使用 JS 写一个类似于接金币的小游戏，老规矩首先设计场景。 场景设计 结构非常简单， 包括了场景容器、分数、角色（由我们的","is_english":0,"is_original":1,"user_index":10.785443010550107,"original_type":0,"original_author":"","content":"","ctime":"1675815327","mtime":"1675843803","rtime":"1675843803","draft_id":"7197400930786476093","view_count":642,"collect_count":3,"digg_count":7,"comment_count":2,"hot_index":41,"is_hot":0,"rank_index":0.01828114,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":11618,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7197433837341360184,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7197372790398320695","article_info":{"article_id":"7197372790398320695","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093],"visible_level":0,"link_url":"","cover_image":"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44b4de53431241ffa6b659847d474358~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"CSS 画作 - 兔 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 刚刚用 CSS 画了只兔子，趁热写下这篇文章作为记录。 结构设计 提到作画，手写也是进行结构的拆分，我们可以将兔子拆分为以下几个","is_english":0,"is_original":1,"user_index":10.780787826431645,"original_type":0,"original_author":"","content":"","ctime":"1675774068","mtime":"1675825329","rtime":"1675825329","draft_id":"7197366974372118583","view_count":458,"collect_count":1,"digg_count":4,"comment_count":3,"hot_index":29,"is_hot":0,"rank_index":0.01346359,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":19952,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7197372790398320695,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7197062234165706789","article_info":{"article_id":"7197062234165706789","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093],"visible_level":0,"link_url":"","cover_image":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59b7c7c54bde4acdae6dece86adde360~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"几十行代码搞定兔年刮刮乐 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 今年是兔年，随手写个兔年祝福语刮刮乐，祝大家新年快乐（迟到的祝福）。 刮刮乐设计 刮刮乐大家都知道，无论是实体票子的刮奖还是虚拟","is_english":0,"is_original":1,"user_index":10.809975190301795,"original_type":0,"original_author":"","content":"","ctime":"1675729215","mtime":"1675754021","rtime":"-62135596800","draft_id":"7197043547203584059","view_count":81,"collect_count":0,"digg_count":4,"comment_count":0,"hot_index":8,"is_hot":0,"rank_index":9e-8,"status":1,"verify_status":1,"audit_status":2,"mark_content":"","display_count":295,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7197062234165706789,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7197022389850996791","article_info":{"article_id":"7197022389850996791","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093],"visible_level":0,"link_url":"","cover_image":"","is_gfw":0,"title":"展示 3D 模型也许不用 three.js，sketchfab viewer 挺好的 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 之前写了一些关于如何使用 three.js 展示 3D 模型的例子。然而在一些场景下用 three.js 进行模型展示的开发要求","is_english":0,"is_original":1,"user_index":10.825909449536898,"original_type":0,"original_author":"","content":"","ctime":"1675693426","mtime":"1675783537","rtime":"1675750552","draft_id":"7197022389850865719","view_count":757,"collect_count":6,"digg_count":7,"comment_count":0,"hot_index":44,"is_hot":0,"rank_index":0.01800314,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":9565,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7197022389850996791,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7197010875400028220","article_info":{"article_id":"7197010875400028220","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093],"visible_level":0,"link_url":"","cover_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b9db7e373084df8841a9e5563a24081~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"three.js 立体字 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 three.js 可以直接将文字渲染成立体图形，配合 3D 模型场景效果非常赞。本篇一起看一下如何在 three.js 中渲染出","is_english":0,"is_original":1,"user_index":10.85580440298653,"original_type":0,"original_author":"","content":"","ctime":"1675691574","mtime":"1675751692","rtime":"1675751692","draft_id":"7197022389849636919","view_count":455,"collect_count":3,"digg_count":4,"comment_count":4,"hot_index":30,"is_hot":0,"rank_index":0.01313124,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":16134,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7197010875400028220,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7196310332931063868","article_info":{"article_id":"7196310332931063868","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093,6809640793381273614],"visible_level":0,"link_url":"","cover_image":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fe532532044e44e6b8249caabb241e1e~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"three.js 模型动画控制、混合、状态面板 - 兔年专题","brief_content":"上一篇我们聊了如何使用 GUI 方便我们调试 three.js，本篇聊一聊如何控制模型动画，将多个动画进行混合，以及程序的状态面板。 程序状态面板 three.js 内置了相当丰富的工具链，其中包含了","is_english":0,"is_original":1,"user_index":10.858260880741778,"original_type":0,"original_author":"","content":"","ctime":"1675526185","mtime":"1675827842","rtime":"1675578564","draft_id":"7196313603426091069","view_count":832,"collect_count":3,"digg_count":4,"comment_count":0,"hot_index":45,"is_hot":0,"rank_index":0.01566505,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":6024,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468},{"id":2546806,"tag_id":"6809640793381273614","tag_name":"three.js","color":"#000000","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/edf74d6b6b4f5121731c.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":0,"ctime":1488865919,"mtime":1677539339,"id_type":9,"tag_alias":"","post_article_count":1120,"concern_user_count":22559}],"user_interact":{"id":7196310332931063868,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7195935352803639352","article_info":{"article_id":"7195935352803639352","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093,6809640793381273614],"visible_level":0,"link_url":"","cover_image":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43024d3a8f0448279262aec86cea0606~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"使用 GUI 方便 three.js 开发调试 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 上一篇聊到如何调用模型中的内置动画从而让模型动起来，而该模型中其实有两个动画，而我们只看到了其中一种。本篇我们聊一聊如何使用 G","is_english":0,"is_original":1,"user_index":10.865297414651486,"original_type":0,"original_author":"","content":"","ctime":"1675438935","mtime":"1675827632","rtime":"1675665390","draft_id":"7195934387819987002","view_count":2576,"collect_count":13,"digg_count":12,"comment_count":6,"hot_index":146,"is_hot":0,"rank_index":0.04608442,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":36841,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468},{"id":2546806,"tag_id":"6809640793381273614","tag_name":"three.js","color":"#000000","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/edf74d6b6b4f5121731c.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":0,"ctime":1488865919,"mtime":1677539339,"id_type":9,"tag_alias":"","post_article_count":1120,"concern_user_count":22559}],"user_interact":{"id":7195935352803639352,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7195569817939345468","article_info":{"article_id":"7195569817939345468","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640407484334093,6809640793381273614],"visible_level":0,"link_url":"","cover_image":"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd52967d38ab43c7a42a7b7d020c4290~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"让 three.js 中的 🐰 模型动起来 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 上一篇我们聊了关于在 three.js 如何使用模型快速渲染出一只兔子，以及 three.js 中的一些基础知识，这篇我们聊聊怎","is_english":0,"is_original":1,"user_index":10.879323174341323,"original_type":0,"original_author":"","content":"","ctime":"1675353142","mtime":"1675825687","rtime":"1675404427","draft_id":"7195566746668613692","view_count":924,"collect_count":4,"digg_count":10,"comment_count":4,"hot_index":60,"is_hot":0,"rank_index":0.01823851,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":14298,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468},{"id":2546806,"tag_id":"6809640793381273614","tag_name":"three.js","color":"#000000","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/edf74d6b6b4f5121731c.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":0,"ctime":1488865919,"mtime":1677539339,"id_type":9,"tag_alias":"","post_article_count":1120,"concern_user_count":22559}],"user_interact":{"id":7195569817939345468,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}},{"article_id":"7195187067838529593","article_info":{"article_id":"7195187067838529593","user_id":"219558054997710","category_id":"6809637767543259144","tag_ids":[6809640793381273614,6809640407484334093],"visible_level":0,"link_url":"","cover_image":"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf19ba0f65aa4c9f9966686557702034~tplv-k3u1fbpfcp-watermark.image?","is_gfw":0,"title":"用 three.js “画”只 🐰 有多简单 - 兔年专题","brief_content":"我正在参加「兔了个兔」创意投稿大赛，详情请看：「兔了个兔」创意投稿大赛 three.js 是一个非常流行的图形库，通过它可以让开发者方便的进行开发。而通过几十行代码就能做成这样一个兔子模型展示网页，下","is_english":0,"is_original":1,"user_index":10.903529504014148,"original_type":0,"original_author":"","content":"","ctime":"1675260060","mtime":"1675400083","rtime":"1675311597","draft_id":"7195186207347703867","view_count":1165,"collect_count":6,"digg_count":11,"comment_count":10,"hot_index":79,"is_hot":0,"rank_index":0.02159159,"status":2,"verify_status":1,"audit_status":2,"mark_content":"","display_count":33071,"is_markdown":1,"app_html_content":""},"author_user_info":{"user_id":"219558054997710","user_name":"嘿嘿Z","company":"唔～ | @嘿前端","job_title":"🐶护体","avatar_large":"https://p9-passport.byteacctimg.com/img/user-avatar/63dd7cf42f7b4ee928a20c7a8829fe93~300x300.image","level":5,"description":"啊，大海，你全是水！！！","followee_count":71,"follower_count":236,"post_article_count":88,"digg_article_count":1351,"got_digg_count":2270,"got_view_count":143222,"post_shortmsg_count":173,"digg_shortmsg_count":144,"isfollowed":false,"favorable_author":1,"power":7023,"study_point":0,"university":{"university_id":"0","name":"","logo":""},"major":{"major_id":"0","parent_id":"0","name":""},"student_status":0,"select_event_count":0,"select_online_course_count":0,"identity":0,"is_select_annual":true,"select_annual_rank":0,"annual_list_type":0,"extraMap":{},"is_logout":0,"annual_info":[],"account_amount":0,"user_growth_info":{"user_id":219558054997710,"jpower":7023,"jscore":3992.8,"jpower_level":5,"jscore_level":6,"jscore_title":"杰出掘友","author_achievement_list":[1],"vip_level":4,"vip_title":"融会贯通","jscore_next_level_score":7000,"jscore_this_level_mini_score":0},"is_vip":true,"become_author_days":0,"collection_set_article_count":0},"category":{"category_id":"6809637767543259144","category_name":"前端","category_url":"frontend","rank":2,"back_ground":"https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png","icon":"https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png","ctime":1457483942,"mtime":1432503190,"show_type":3,"item_type":2,"promote_tag_cap":4,"promote_priority":2},"tags":[{"id":2546806,"tag_id":"6809640793381273614","tag_name":"three.js","color":"#000000","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/edf74d6b6b4f5121731c.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":0,"ctime":1488865919,"mtime":1677539339,"id_type":9,"tag_alias":"","post_article_count":1120,"concern_user_count":22559},{"id":2546526,"tag_id":"6809640407484334093","tag_name":"前端","color":"#60ADFF","icon":"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image","back_ground":"","show_navi":1,"ctime":1435971546,"mtime":1677543025,"id_type":9,"tag_alias":"","post_article_count":335938,"concern_user_count":636468}],"user_interact":{"id":7195187067838529593,"omitempty":2,"user_id":0,"is_digg":false,"is_follow":false,"is_collect":false},"org":{"org_info":null,"org_user":null,"is_followed":false},"req_id":"2023022808134305124815EDA72C53FF64","status":{"push_status":0},"author_interact":null,"extra":{"boost_type":""}}],"count":88}
const articleListUrl = baseUrl + 'content_api/v1/article/list_by_user';
const articleBaseUrl = 'https://juejin.cn/post/';

const sleep = t => new Promise(resolve => setTimeout(resolve, t));

async function run(cookie) {
    const headers = {
        'sec-ch-ua': '"Chromium";v="110", "Not A(Brand";v="24", "Google Chrome";v="110"',
        'sec-ch-ua-mobile': '?0',
        'sec-ch-ua-platform': '"macOS"',
        'content-type': 'application/json',
        origin: 'https://juejin.cn',
        'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36',
        cookie
    };

    const api = async (url, body = null, method = 'POST') => {
        let res, err;
        try {
            await sleep(Math.random() * 1000);
            res = (await axios({ url, headers, method, data: body ? JSON.stringify(body) : body })).data;
        } catch (error) {
            err = error;
            console.error(error);
        }
        return [res, err];
    };

    const results = [];
    // 签到
    const [checkInRes, checkInErr] = await api(checkInUrl);
    results.push({
        name: '签到',
        err: checkInErr,
        res: checkInRes
    });
    // 抽奖
    const [drawRes, drawErr] = await api(lotteryUrl);
    results.push({
        name: '抽奖',
        err: drawErr,
        res: drawRes
    });
    // 大奖列表
    const [historyRes, historyErr] = await api(lotteryHistory);
    results.push({
        name: '大奖清单',
        err: historyErr,
        res: historyRes,
        onlyErr: true
    });
    // 沾运气
    const [dipLuckyRes, dipLuckyErr] = historyErr
        ? [null, 'error']
        : await api(dipLucky, { lottery_history_id: historyRes?.data?.lotteries[0]?.history_id });
    results.push({
        name: '沾运气',
        err: dipLuckyErr,
        res: dipLuckyRes
    });
    // bug 列表
    const [bugListRes, bugListErr] = await api(bugListUrl);
    results.push({
        name: 'bug 列表',
        err: bugListErr,
        res: bugListRes,
        onlyErr: true
    });
    // 收集 bug
    let bugIndex = 0;
    for (const bug of bugListRes.data) {
        const [collectRes, collectErr] = await api(bugCollectUrl, { bug_time: bug.bug_time, bug_type: bug.bug_type });
        results.push({
            name: 'bug 收集' + ' ' + bugIndex++,
            err: collectErr,
            res: collectRes
        });
    }
    // 文章列表
    const [articleListRes, articleListErr] = await api(articleListUrl, { audit_status: null, keyword: '', page_size: 10, page_no: 1 });
    results.push({
        name: '文章列表',
        err: articleListErr,
        res: articleListRes,
        onlyErr: true
    });
    // 读文章
    for (const article of articleListRes.data?.length ? articleListRes.data : []) {
        const [articleRes, articleErr] = await api(articleBaseUrl + article.article_id, null, 'GET');
        results.push({
            name: '文章阅读',
            err: articleErr,
            res: { err_no: 0, err_msg: article.article_info.title }
        });
    }

    const messages = results
        .map(({ name, err, res: { err_no, err_msg, data }, onlyErr }) => {
            if (onlyErr && !err && err_no === 0) return;
            if (err) {
                return `${name} fail: ${err}`;
            }
            return `${name} - ${err_msg}` + (data ? ' : ' + JSON.stringify(data) : '');
        })
        .filter(msg => !!msg);
    if (pushDeerKey) {
        const res = await axios.post('https://api2.pushdeer.com/message/push', null, {
            params: {
                pushkey: pushDeerKey,
                text: '掘金任务',
                desp: messages.join('\n'),
                type: 'text'
            }
        });
        if (res.code !== 0) {
            console.error(JSON.stringify(res.data));
        }
    } else {
        console.log(results);
    }
}

(async function () {
    const cookies = process.env.JJ_COOKIE.split('&');
    for (const cookie of cookies) {
        try {
            await run(cookie);
        } catch (error) {
            console.error(error);
        }
    }
})();
